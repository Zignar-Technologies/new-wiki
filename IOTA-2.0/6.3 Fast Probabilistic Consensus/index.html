<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Developing cyber-physical systems for Industry 4.0 requires great documentation. Our goal is to guarantee functionality and interoperability between the World, IoT, Software & AI, and DLT. We WILL make it happen !!!"><meta name=author content="Jorge Christian Gelso"><link href=https://docs.zignar.io/IOTA-2.0/6.3%20Fast%20Probabilistic%20Consensus/ rel=canonical><link rel=icon href=../../assets/favicon.svg><meta name=generator content="mkdocs-1.2.1, mkdocs-material-7.1.7+insiders-2.9.2"><title>6.3 Fast Probabilistic Consensus - Zignar Technologies Docs</title><link rel=stylesheet href=../../assets/stylesheets/main.92048cb8.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.73e53a79.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Montserrat:300,400,400i,700%7CSource+Code+Pro&display=fallback"><style>:root{--md-text-font-family:"Montserrat";--md-code-font-family:"Source Code Pro"}</style><link rel=stylesheet href=../../stylesheets/extra.css><meta name=robots content=noindex><meta property=og:type content=website><meta property=og:title content="Zignar Technologies Docs - 6.3 Fast Probabilistic Consensus"><meta property=og:description content="Developing cyber-physical systems for Industry 4.0 requires great documentation. Our goal is to guarantee functionality and interoperability between the World, IoT, Software & AI, and DLT. We WILL make it happen !!!"><meta content=https://docs.zignar.io/IOTA-2.0/6.3%20Fast%20Probabilistic%20Consensus/ property=og:url><meta property=og:image content=https://docs.zignar.io/assets/images/banner.png><meta property=og:image:type content=image/png><meta property=og:image:width content=1080><meta property=og:image:height content=568><meta name=twitter:title content="Zignar Technologies Docs - 6.3 Fast Probabilistic Consensus"><meta name=twitter:description content="Developing cyber-physical systems for Industry 4.0 requires great documentation. Our goal is to guarantee functionality and interoperability between the World, IoT, Software & AI, and DLT. We WILL make it happen !!!"><meta name=twitter:image content=https://docs.zignar.io/assets/images/banner.png><link rel=stylesheet href=../../overrides/assets/stylesheets/main.3cfa086a.min.css></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=red> <script>function __scope(t,e="../.."){return new URL(e,location).pathname+"."+t}function __get(t,e=localStorage,n){return JSON.parse(e.getItem(__scope(t,n)))}function __set(t,e,n=localStorage,o){try{n.setItem(__scope(t,o),JSON.stringify(e))}catch(t){}}</script> <script>var palette=__get("__palette");if(palette&&"object"==typeof palette.color)for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#63-fast-probabilistic-consensus class=md-skip> Skip to content </a> </div> <div data-md-component=announce> <aside class=md-banner> <div class="md-banner__inner md-grid md-typeset"> Zignar Technologies has it's own Documentation Website. For any improvements, please contact Chris at chris@zignar.tech </div> </aside> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="Zignar Technologies Docs" class="md-header__button md-logo" aria-label="Zignar Technologies Docs" data-md-component=logo> <img src=../../assets/zignarlogo.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Zignar Technologies Docs </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> 6.3 Fast Probabilistic Consensus </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=red aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M7 10a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2 2 2 0 0 1 2-2m10-3a5 5 0 0 1 5 5 5 5 0 0 1-5 5H7a5 5 0 0 1-5-5 5 5 0 0 1 5-5h10M7 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3h10a3 3 0 0 0 3-3 3 3 0 0 0-3-3H7z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=light-blue data-md-color-accent=red aria-label="Switch to light mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3z"/></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08z"/></svg> </a> <button type=reset class="md-search__icon md-icon" aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/Zignar-Technologies/wiki/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM277.3 415.7c-8.4 1.5-11.5-3.7-11.5-8 0-5.4.2-33 .2-55.3 0-15.6-5.2-25.5-11.3-30.7 37-4.1 76-9.2 76-73.1 0-18.2-6.5-27.3-17.1-39 1.7-4.3 7.4-22-1.7-45-13.9-4.3-45.7 17.9-45.7 17.9-13.2-3.7-27.5-5.6-41.6-5.6-14.1 0-28.4 1.9-41.6 5.6 0 0-31.8-22.2-45.7-17.9-9.1 22.9-3.5 40.6-1.7 45-10.6 11.7-15.6 20.8-15.6 39 0 63.6 37.3 69 74.3 73.1-4.8 4.3-9.1 11.7-10.6 22.3-9.5 4.3-33.8 11.7-48.3-13.9-9.1-15.8-25.5-17.1-25.5-17.1-16.2-.2-1.1 10.2-1.1 10.2 10.8 5 18.4 24.2 18.4 24.2 9.7 29.7 56.1 19.7 56.1 19.7 0 13.9.2 36.5.2 40.6 0 4.3-3 9.5-11.5 8-66-22.1-112.2-84.9-112.2-158.3 0-91.8 70.2-161.5 162-161.5S388 165.6 388 257.4c.1 73.4-44.7 136.3-110.7 158.3zm-98.1-61.1c-1.9.4-3.7-.4-3.9-1.7-.2-1.5 1.1-2.8 3-3.2 1.9-.2 3.7.6 3.9 1.9.3 1.3-1 2.6-3 3zm-9.5-.9c0 1.3-1.5 2.4-3.5 2.4-2.2.2-3.7-.9-3.7-2.4 0-1.3 1.5-2.4 3.5-2.4 1.9-.2 3.7.9 3.7 2.4zm-13.7-1.1c-.4 1.3-2.4 1.9-4.1 1.3-1.9-.4-3.2-1.9-2.8-3.2.4-1.3 2.4-1.9 4.1-1.5 2 .6 3.3 2.1 2.8 3.4zm-12.3-5.4c-.9 1.1-2.8.9-4.3-.6-1.5-1.3-1.9-3.2-.9-4.1.9-1.1 2.8-.9 4.3.6 1.3 1.3 1.8 3.3.9 4.1zm-9.1-9.1c-.9.6-2.6 0-3.7-1.5s-1.1-3.2 0-3.9c1.1-.9 2.8-.2 3.7 1.3 1.1 1.5 1.1 3.3 0 4.1zm-6.5-9.7c-.9.9-2.4.4-3.5-.6-1.1-1.3-1.3-2.8-.4-3.5.9-.9 2.4-.4 3.5.6 1.1 1.3 1.3 2.8.4 3.5zm-6.7-7.4c-.4.9-1.7 1.1-2.8.4-1.3-.6-1.9-1.7-1.5-2.6.4-.6 1.5-.9 2.8-.4 1.3.7 1.9 1.8 1.5 2.6z"/></svg> </div> <div class=md-source__repository> Zignar Docs </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../ class="md-tabs__link md-tabs__link--active"> IOTA 2.0 Specs </a> </li> <li class=md-tabs__item> <a href=../../IoT%20Guide/ class=md-tabs__link> IoT Guide </a> </li> <li class=md-tabs__item> <a href=../../reference/basic-markdown/ class=md-tabs__link> Reference </a> </li> <li class=md-tabs__item> <a href=../../JTBD/barriers/ class=md-tabs__link> JTBD </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="Zignar Technologies Docs" class="md-nav__button md-logo" aria-label="Zignar Technologies Docs" data-md-component=logo> <img src=../../assets/zignarlogo.png alt=logo> </a> Zignar Technologies Docs </label> <div class=md-nav__source> <a href=https://github.com/Zignar-Technologies/wiki/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM277.3 415.7c-8.4 1.5-11.5-3.7-11.5-8 0-5.4.2-33 .2-55.3 0-15.6-5.2-25.5-11.3-30.7 37-4.1 76-9.2 76-73.1 0-18.2-6.5-27.3-17.1-39 1.7-4.3 7.4-22-1.7-45-13.9-4.3-45.7 17.9-45.7 17.9-13.2-3.7-27.5-5.6-41.6-5.6-14.1 0-28.4 1.9-41.6 5.6 0 0-31.8-22.2-45.7-17.9-9.1 22.9-3.5 40.6-1.7 45-10.6 11.7-15.6 20.8-15.6 39 0 63.6 37.3 69 74.3 73.1-4.8 4.3-9.1 11.7-10.6 22.3-9.5 4.3-33.8 11.7-48.3-13.9-9.1-15.8-25.5-17.1-25.5-17.1-16.2-.2-1.1 10.2-1.1 10.2 10.8 5 18.4 24.2 18.4 24.2 9.7 29.7 56.1 19.7 56.1 19.7 0 13.9.2 36.5.2 40.6 0 4.3-3 9.5-11.5 8-66-22.1-112.2-84.9-112.2-158.3 0-91.8 70.2-161.5 162-161.5S388 165.6 388 257.4c.1 73.4-44.7 136.3-110.7 158.3zm-98.1-61.1c-1.9.4-3.7-.4-3.9-1.7-.2-1.5 1.1-2.8 3-3.2 1.9-.2 3.7.6 3.9 1.9.3 1.3-1 2.6-3 3zm-9.5-.9c0 1.3-1.5 2.4-3.5 2.4-2.2.2-3.7-.9-3.7-2.4 0-1.3 1.5-2.4 3.5-2.4 1.9-.2 3.7.9 3.7 2.4zm-13.7-1.1c-.4 1.3-2.4 1.9-4.1 1.3-1.9-.4-3.2-1.9-2.8-3.2.4-1.3 2.4-1.9 4.1-1.5 2 .6 3.3 2.1 2.8 3.4zm-12.3-5.4c-.9 1.1-2.8.9-4.3-.6-1.5-1.3-1.9-3.2-.9-4.1.9-1.1 2.8-.9 4.3.6 1.3 1.3 1.8 3.3.9 4.1zm-9.1-9.1c-.9.6-2.6 0-3.7-1.5s-1.1-3.2 0-3.9c1.1-.9 2.8-.2 3.7 1.3 1.1 1.5 1.1 3.3 0 4.1zm-6.5-9.7c-.9.9-2.4.4-3.5-.6-1.1-1.3-1.3-2.8-.4-3.5.9-.9 2.4-.4 3.5.6 1.1 1.3 1.3 2.8.4 3.5zm-6.7-7.4c-.4.9-1.7 1.1-2.8.4-1.3-.6-1.9-1.7-1.5-2.6.4-.6 1.5-.9 2.8-.4 1.3.7 1.9 1.8 1.5 2.6z"/></svg> </div> <div class=md-source__repository> Zignar Docs </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> Home </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2 type=checkbox id=__nav_2 checked> <div class="md-nav__link md-nav__link--container "> <a href=../ >IOTA 2.0 Specs</a> <label for=__nav_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="IOTA 2.0 Specs" data-md-level=1> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> IOTA 2.0 Specs </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../0.0%20Preface/ class=md-nav__link> 0.0 Preface </a> </li> <li class=md-nav__item> <a href=../1.1%20Introduction/ class=md-nav__link> 1.1 Introduction </a> </li> <li class=md-nav__item> <a href=../2.2%20Message%20Layout/ class=md-nav__link> 2.2 Message Layout </a> </li> <li class=md-nav__item> <a href=../2.3%20Standard%20Payloads%20Layout/ class=md-nav__link> 2.3 Standard Payloads Layout </a> </li> <li class=md-nav__item> <a href=../2.4%20Data%20Flow/ class=md-nav__link> 2.4 Data flow </a> </li> <li class=md-nav__item> <a href=../3.3%20Peer%20Discovery/ class=md-nav__link> 3.3 Peer Discovery </a> </li> <li class=md-nav__item> <a href=../3.4%20Neighbor%20Selection/ class=md-nav__link> 3.4 Neighbor Selection </a> </li> <li class=md-nav__item> <a href=../4.1%20The%20Tangle/ class=md-nav__link> 4.1 The Tangle </a> </li> <li class=md-nav__item> <a href=../4.2%20Timestamps/ class=md-nav__link> 4.2 Timestamps </a> </li> <li class=md-nav__item> <a href=../4.3%20Tip%20Selection%20Algorithm/ class=md-nav__link> 4.3 Tip Selection Algorithm </a> </li> <li class=md-nav__item> <a href=../4.4%20Solidification/ class=md-nav__link> 4.4 Solidification </a> </li> <li class=md-nav__item> <a href=../4.5%20Rate%20Control/ class=md-nav__link> 4.5 Rate Control </a> </li> <li class=md-nav__item> <a href=../4.6%20Congestion%20Control/ class=md-nav__link> 4.6 Congestion control </a> </li> <li class=md-nav__item> <a href=../4.7%20Markers/ class=md-nav__link> 4.7 Markers </a> </li> <li class=md-nav__item> <a href=../5.1%20UTXO/ class=md-nav__link> 5.1 UTXO </a> </li> <li class=md-nav__item> <a href=../5.2%20Ledger%20State/ class=md-nav__link> 5.2 Ledger State </a> </li> <li class=md-nav__item> <a href=../5.3%20Mana/ class=md-nav__link> 5.3 Mana </a> </li> <li class=md-nav__item> <a href=../6.1%20Objects%20of%20Consensus/ class=md-nav__link> 6.1 Objects of Consensus </a> </li> <li class=md-nav__item> <a href=../6.2%20Opinion%20Setting/ class=md-nav__link> 6.2 Opinion Setting </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> 6.3 Fast Probabilistic Consensus <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> 6.3 Fast Probabilistic Consensus </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#631-introduction class=md-nav__link> 6.3.1 Introduction </a> </li> <li class=md-nav__item> <a href=#632-fpc-protocol class=md-nav__link> 6.3.2 FPC Protocol </a> <nav class=md-nav aria-label="6.3.2 FPC Protocol"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#6321-fpc-parameters class=md-nav__link> 6.3.2.1 FPC parameters </a> </li> <li class=md-nav__item> <a href=#6322-local-variables class=md-nav__link> 6.3.2.2 Local variables </a> </li> <li class=md-nav__item> <a href=#6323-fpc-protocol-description class=md-nav__link> 6.3.2.3 FPC protocol description </a> <nav class=md-nav aria-label="6.3.2.3 FPC protocol description"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#fpc-protocol-operation-for-one-object-id class=md-nav__link> FPC Protocol Operation for One Object ID </a> </li> <li class=md-nav__item> <a href=#fpc-protocol-operation-for-multiple-object-ids class=md-nav__link> FPC Protocol Operation for Multiple Object IDs </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#6324-fpc-pseudocode-description class=md-nav__link> 6.3.2.4 FPC Pseudocode Description </a> <nav class=md-nav aria-label="6.3.2.4 FPC Pseudocode Description"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#getsample class=md-nav__link> GetSample </a> </li> <li class=md-nav__item> <a href=#queryrequest class=md-nav__link> QueryRequest </a> </li> <li class=md-nav__item> <a href=#queryresponse class=md-nav__link> QueryResponse </a> </li> <li class=md-nav__item> <a href=#getopinion class=md-nav__link> GetOpinion </a> </li> <li class=md-nav__item> <a href=#opinionupdate class=md-nav__link> OpinionUpdate </a> </li> <li class=md-nav__item> <a href=#mainfpc class=md-nav__link> MainFPC </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../6.4%20Finalization/ class=md-nav__link> 6.4 Finalization </a> </li> <li class=md-nav__item> <a href=../6.5%20dRNG/ class=md-nav__link> 6.5 dRNG </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3 type=checkbox id=__nav_3> <div class="md-nav__link md-nav__link--container "> <a href=../../IoT%20Guide/ >IoT Guide</a> <label for=__nav_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="IoT Guide" data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> IoT Guide </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4 type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4> Reference <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Reference data-md-level=1> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../reference/basic-markdown/ class=md-nav__link> Basic Markdown Guide </a> </li> <li class=md-nav__item> <a href=../../reference/abbreviations/ class=md-nav__link> Abbreviations </a> </li> <li class=md-nav__item> <a href=../../reference/buttons/ class=md-nav__link> Buttons </a> </li> <li class=md-nav__item> <a href=../../reference/code-blocks/ class=md-nav__link> Code blocks </a> </li> <li class=md-nav__item> <a href=../../reference/content-tabs/ class=md-nav__link> Content tabs </a> </li> <li class=md-nav__item> <a href=../../reference/data-tables/ class=md-nav__link> Data tables </a> </li> <li class=md-nav__item> <a href=../../reference/diagrams/ class=md-nav__link> Diagrams </a> </li> <li class=md-nav__item> <a href=../../reference/footnotes/ class=md-nav__link> Footnotes </a> </li> <li class=md-nav__item> <a href=../../reference/formatting/ class=md-nav__link> Formatting </a> </li> <li class=md-nav__item> <a href=../../reference/icons-emojis/ class=md-nav__link> Icons + Emojis </a> </li> <li class=md-nav__item> <a href=../../reference/images/ class=md-nav__link> Images </a> </li> <li class=md-nav__item> <a href=../../reference/lists/ class=md-nav__link> Lists </a> </li> <li class=md-nav__item> <a href=../../reference/mathjax/ class=md-nav__link> MathJax </a> </li> <li class=md-nav__item> <a href=../../reference/pdf/ class=md-nav__link> PDF Files Support </a> </li> <li class=md-nav__item> <a href=../../reference/progress/ class=md-nav__link> Progress Bar </a> </li> <li class=md-nav__item> <a href=../../reference/remarks/ class=md-nav__link> Remarks </a> </li> <li class=md-nav__item> <a href=../../reference/smartsymbols/ class=md-nav__link> Smart symbols </a> </li> <li class=md-nav__item> <a href=../../reference/stl/ class=md-nav__link> STL Files Support </a> </li> <li class=md-nav__item> <a href=../../reference/installation/ class=md-nav__link> Installation Guide </a> </li> <li class=md-nav__item> <a href=../../reference/awesome/ class=md-nav__link> Customizing Navigation </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5 type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5> JTBD <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=JTBD data-md-level=1> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> JTBD </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../JTBD/barriers/ class=md-nav__link> Five barriers to innovation </a> </li> <li class=md-nav__item> <a href=../../JTBD/jtbd/ class=md-nav__link> What is Jobs-to-be-done </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#631-introduction class=md-nav__link> 6.3.1 Introduction </a> </li> <li class=md-nav__item> <a href=#632-fpc-protocol class=md-nav__link> 6.3.2 FPC Protocol </a> <nav class=md-nav aria-label="6.3.2 FPC Protocol"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#6321-fpc-parameters class=md-nav__link> 6.3.2.1 FPC parameters </a> </li> <li class=md-nav__item> <a href=#6322-local-variables class=md-nav__link> 6.3.2.2 Local variables </a> </li> <li class=md-nav__item> <a href=#6323-fpc-protocol-description class=md-nav__link> 6.3.2.3 FPC protocol description </a> <nav class=md-nav aria-label="6.3.2.3 FPC protocol description"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#fpc-protocol-operation-for-one-object-id class=md-nav__link> FPC Protocol Operation for One Object ID </a> </li> <li class=md-nav__item> <a href=#fpc-protocol-operation-for-multiple-object-ids class=md-nav__link> FPC Protocol Operation for Multiple Object IDs </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#6324-fpc-pseudocode-description class=md-nav__link> 6.3.2.4 FPC Pseudocode Description </a> <nav class=md-nav aria-label="6.3.2.4 FPC Pseudocode Description"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#getsample class=md-nav__link> GetSample </a> </li> <li class=md-nav__item> <a href=#queryrequest class=md-nav__link> QueryRequest </a> </li> <li class=md-nav__item> <a href=#queryresponse class=md-nav__link> QueryResponse </a> </li> <li class=md-nav__item> <a href=#getopinion class=md-nav__link> GetOpinion </a> </li> <li class=md-nav__item> <a href=#opinionupdate class=md-nav__link> OpinionUpdate </a> </li> <li class=md-nav__item> <a href=#mainfpc class=md-nav__link> MainFPC </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href="https://github.com/Zignar-Technologies/wiki/tree/main/docs/IOTA-2.0/6.3 Fast Probabilistic Consensus.md" title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg> </a> <h1 id=63-fast-probabilistic-consensus>6.3 Fast Probabilistic Consensus<a class=headerlink href=#63-fast-probabilistic-consensus title="Permanent link">&para;</a></h1> <h2 id=631-introduction>6.3.1 Introduction<a class=headerlink href=#631-introduction title="Permanent link">&para;</a></h2> <p>The functionality defined in this part of the specification allows nodes to find consensus on whether a given object is elgible or not. This protocol, called Fast Probabilistic Consensus (FPC), is triggered if the eligibility of an object is uncertain. These objects can be messages or transactions. Please refer to <a href=../6.1%20Objects%20of%20Consensus/ >Section 6.1 - Object of Consensus</a> for details on the object of consensus and to <a href=../6.2%20Opinion%20Setting/ >Section 6.2 - Opinion Setting</a> for more details how initial opinions on the objects are formed.</p> <p>Once FPC is triggered every node must establish an initial opinion on the eligibility of the object, as described in Section 6.1. The node must then start to query other nodes about their opinions on the given object and must update its opinion according to the rules specified in this section. </p> <p>This procedure shall terminate locally if a node has not changed its opinion over a specified period of time or if some maximal amount of rounds is reached. </p> <p>Unlike other voting-based consensus protocols, FPC uses a sequence of global random thresholds. This randomness makes FPC robust even in Byzantine environments. We refer to <a href=https://arxiv.org/abs/1905.10895>FPC-BI: Fast Probabilistic Consensus within Byzantine Infrastructures</a>, <a href=https://arxiv.org/abs/1911.08787>Robustness and efficiency of leaderless probabilistic consensus protocols within Byzantine infrastructures</a>, and <a href=https://link.springer.com/chapter/10.1007/978-3-030-63089-8_24>Fast Probabilistic Consensus with Weighted Votes</a> for more details on FPC.</p> <p>The Fast Probabilistic Consensus Protocol specification depends on the following specifications:</p> <ul> <li><a href=../2.3%20Standard%20Payloads%20Layout/ >2.3 - Standard Payloads Layout</a> </li> <li><a href=./3.1%20Communication%20Models.md>3.1 - Communication Models</a></li> <li><a href=../5.3%20Mana/ >5.3 - Mana</a></li> <li><a href=../6.1%20Objects%20of%20Consensus/ >6.1 - Object of Consensus</a></li> <li><a href=../6.2%20Opinion%20Setting/ >6.2 - Opinion Setting</a></li> <li><a href=../6.5%20dRNG/ >6.5 - dRNG</a></li> </ul> <h2 id=632-fpc-protocol>6.3.2 FPC Protocol<a class=headerlink href=#632-fpc-protocol title="Permanent link">&para;</a></h2> <p>The FPC protocol attempts to determine consensus on the eligibility of an object <code>objectID</code>. Every node has an initial opinion <code>opinion</code> on this object. These opinions are updated in rounds until the protocol terminates using a local stopping rule. </p> <h3 id=6321-fpc-parameters>6.3.2.1 FPC parameters<a class=headerlink href=#6321-fpc-parameters title="Permanent link">&para;</a></h3> <p>Table 6.3.1 gives a list of all parameters required for FPC.</p> <p><strong>Table 6.3.1:</strong> Parameters Required for FPC.</p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>TOTAL_ROUNDS_FINALIZATION</code></td> <td>integer</td> <td>Number of consecutive rounds before FPC auto-terminates</td> </tr> <tr> <td><code>TOTAL_ROUNDS_ENDING_THRESHOLD</code></td> <td>integer</td> <td>Number of consecutive rounds with non-random threshold</td> </tr> <tr> <td><code>FIRST_ROUND_THRESHOLD</code></td> <td>double</td> <td>Threshold of the proportion of opinions in the first round</td> </tr> <tr> <td><code>SUBSEQUENT_LOWER_THRESHOLD</code></td> <td>double</td> <td>Lower random threshold bound in subsequent rounds</td> </tr> <tr> <td><code>SUBSEQUENT_UPPER_THRESHOLD</code></td> <td>double</td> <td>Upper random threshold bound in subsequent rounds</td> </tr> <tr> <td><code>ENDING_THRESHOLD</code></td> <td>double</td> <td>Threshold for termination phase</td> </tr> <tr> <td><code>DRNG_WAITING_TIME</code></td> <td>duration</td> <td>Maximal waiting time (in seconds) to receive dRNG number</td> </tr> <tr> <td><code>MAX_ROUND</code></td> <td>integer</td> <td>Maximum number of rounds before querying stops</td> </tr> <tr> <td><code>QUERY_SIZE</code></td> <td>integer</td> <td>Quorum size, number of nodes that are queried</td> </tr> <tr> <td><code>ROUND_LENGTH</code></td> <td>double</td> <td>Duration (in seconds) of a round</td> </tr> <tr> <td><code>TIME_OUT</code></td> <td>duration</td> <td>Maximal waiting time (in seconds) to receive answers for FPC queries</td> </tr> <tr> <td><code>MIN_MANA_PROPORTION</code></td> <td>double</td> <td>Minimal amount of mana of received answers that allow to update opinion. If this amount is not reached the current round is not counted.</td> </tr> <tr> <td><code>MAX_SAMPLE_SIZE</code></td> <td>integer</td> <td>Maximal size of sample.</td> </tr> </tbody> </table> <p>The proposed values of the parameters are (Table 6.3.2):</p> <p><strong>Table 6.3.2:</strong> FPC Parameter Default Values.</p> <table> <thead> <tr> <th>Parameter</th> <th align=center>Value</th> </tr> </thead> <tbody> <tr> <td><code>TOTAL_ROUNDS_FINALIZATION</code></td> <td align=center>10</td> </tr> <tr> <td><code>TOTAL_ROUNDS_ENDING_THRESHOLD</code></td> <td align=center>3</td> </tr> <tr> <td><code>FIRST_ROUND_THRESHOLD</code></td> <td align=center>0.67</td> </tr> <tr> <td><code>SUBSEQUENT_LOWER_THRESHOLD</code></td> <td align=center>0.50</td> </tr> <tr> <td><code>SUBSEQUENT_UPPER_THRESHOLD</code></td> <td align=center>0.67</td> </tr> <tr> <td><code>ENDING_THRESHOLD</code></td> <td align=center>0.50</td> </tr> <tr> <td><code>DRNG_WAITING_TIME</code></td> <td align=center>0.20</td> </tr> <tr> <td><code>MAX_ROUND</code></td> <td align=center>100</td> </tr> <tr> <td><code>QUERY_SIZE</code></td> <td align=center>21</td> </tr> <tr> <td><code>ROUND_LENGTH</code></td> <td align=center>10</td> </tr> <tr> <td><code>TIME_OUT</code></td> <td align=center>6.5</td> </tr> <tr> <td><code>MIN_MANA_PROPORTION</code></td> <td align=center>0.50</td> </tr> <tr> <td><code>MAX_SAMPLE_SIZE</code></td> <td align=center>100</td> </tr> </tbody> </table> <h3 id=6322-local-variables>6.3.2.2 Local variables<a class=headerlink href=#6322-local-variables title="Permanent link">&para;</a></h3> <p>Local variables are those which may be defined at the application developer's discretion and do not form a mandatory part of the protocol. They are included here to assist in understanding the protocol defined in this section. The kind of information described for these variables must be handled by the node application in some form.</p> <p>Every node shall keep the following variables (Table 6.3.3):</p> <p><strong>Table 6.3.3:</strong> Required Node Variables.</p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>nodeList</code></td> <td>list of nodeIDs</td> <td>List of known nodes</td> </tr> <tr> <td><code>consensusManaList</code></td> <td>list of nodeIDs</td> <td>List of active consensus mana of known nodes</td> </tr> <tr> <td><code>ownMana</code></td> <td>double</td> <td>Active consensus mana of <code>ownNode</code></td> </tr> <tr> <td><code>rn</code></td> <td>double</td> <td>Random number provided by dRNG module</td> </tr> <tr> <td><code>rnCycle</code></td> <td>double</td> <td>Random number instance</td> </tr> <tr> <td><code>queryList</code></td> <td>list of nodeIDs</td> <td>List of nodes to query</td> </tr> <tr> <td><code>queryMax</code></td> <td>integer</td> <td>Maximal number of queries per round</td> </tr> <tr> <td><code>opinionQuery</code></td> <td>list of Opinions</td> <td>List of opinions of nodes in <code>queryList</code>, non-replies are encoded with <code>NA</code></td> </tr> <tr> <td><code>objectIDs</code></td> <td>list of objectIDs</td> <td>List of objectIDs that are under vote</td> </tr> </tbody> </table> <p>Note that <code>consensusManaList</code> is a list of active consensus Mana of all known nodes. As this Mana changes over time this list has to be updated over time. Such an update is expressed with the function <code>GetActiveConsensusMana(time)</code> that returns the list of active consensus Mana at time <code>time</code>.</p> <p>For each <code>objectID</code> that is under vote a node shall keep the following variables (Table 6.3.4):</p> <p><strong>Table 6.3.4:</strong> Variables Required for objectID Under Vote.</p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>opinion</code></td> <td>nulled boolean</td> <td>Opinion of the eligibility the <code>objectID</code>; <code>TRUE</code> corresponds to <code>LIKE</code> and <code>FALSE</code> to <code>DISLIKE</code></td> </tr> <tr> <td><code>cnt</code></td> <td>integer</td> <td>Counter of the number of consecutive rounds with unchanged opinion</td> </tr> <tr> <td><code>queryStatus</code></td> <td>boolean</td> <td>Status if actively querying</td> </tr> <tr> <td><code>answerStatus</code></td> <td>boolean</td> <td><code>TRUE</code> if answering queries, otherwise <code>FALSE</code></td> </tr> <tr> <td><code>round</code></td> <td>integer</td> <td>Counter for the number of rounds in FPC</td> </tr> <tr> <td><code>reachedMaxRound</code></td> <td>boolean</td> <td>Indicator whether protocol reached <code>MAX_ROUND</code> before auto-termination, default value <code>FALSE</code></td> </tr> </tbody> </table> <h3 id=6323-fpc-protocol-description>6.3.2.3 FPC protocol description<a class=headerlink href=#6323-fpc-protocol-description title="Permanent link">&para;</a></h3> <h4 id=fpc-protocol-operation-for-one-object-id>FPC Protocol Operation for One Object ID<a class=headerlink href=#fpc-protocol-operation-for-one-object-id title="Permanent link">&para;</a></h4> <p>This section describes how FPC works for one <code>objectID</code>. Once FPC is triggered on the eligibility of the object <code>objectID</code> a node establishes an initial opinion <code>opinion</code> on <code>objectID</code>, see <a href=../6.2%20Opinion%20Setting/ >Section 6.2 Opinion Setting</a>. In particular, the variables <code>queryStatus</code> and <code>answerStatus</code> must be affected using the functions <code>QueryStatus</code> and <code>AnswerStatus</code>. The exchange and update of opinions must be done in rounds of length <code>ROUND_LENGTH</code>. Rounds end and start at times (in seconds) that are multiple of <code>ROUND_LENGTH</code>. 1. At the beginning of each round a node must select a random sample of the other nodes and either send a query request or check if the sampled nodes published their opinions on the Tangle. 2. After <code>TIME_OUT</code> the node must calculate the proportion of the <code>LIKE</code>s in the received opinions. 3. At the end of the round it must set a threshold to confirm or modify its own opinion. In the first round this threshold is <code>FIRST_ROUND_THRESHOLD</code> while in the subsequent rounds a node must retrieve a random threshold from the dRNG. If the random threshold from the dRNG is not available a node must use (<code>SUBSEQUENT_LOWER_THRESHOLD</code>+ <code>SUBSEQUENT_UPPER_THRESHOLD</code>)/2 as threshold. If the proportion is below this obtained threshold it must set its opinion to <code>DISLIKE</code>, otherwise it must set its opinion to <code>LIKE</code>. In the case that the opinion did not change, the variable <code>cnt</code> must be incremented by 1, otherwise it must be set to 0. If a node did not receive enough answers, i.e., the proportion of mana of the received opinions is less than <code>MIN_MANA_PROPORTION</code> of the total mana of the queried nodes, the round is not counted, i.e., neither opinion nor <code>cnt</code> are changed. 4. This continues until <code>cnt</code>=<code>TOTAL_ROUNDS_FINALIZATION</code>-<code>TOTAL_ROUNDS_ENDING_THRESHOLD</code>. FPC then enters in the "termination phase" and continues for <code>TOTAL_ROUNDS_ENDING_THRESHOLD</code> rounds using the <code>ENDING_THRESHOLD</code> instead of the random threshold. If during this phase a node changes its opinion it must set <code>cnt</code>=0 and use the random threshold again. The node shall stop querying if <code>cnt</code>=<code>TOTAL_ROUNDS_ENDING_THRESHOLD</code> or <code>cnt</code>=<code>reachedMaxRound</code>. In case that <code>cnt</code>=<code>reachedMaxRound</code> a node must set the final opinion to <code>DISLIKE</code>. 5. Once FPC terminates (for the given <code>objectID</code>) a node must update the metadata <code>opinionField</code> of <code>objectID</code> with the outcome of FPC as <code>opinion</code> and <code>level=2</code>. 6. A node must continue to respond to queries as long as <code>AnswerStatus(type, objectID)=TRUE</code>, where <code>type</code> is the type of the <code>objectID</code>. If <code>AnswerStatus(type, objectID)=FALSE</code> the variable <code>answerStatus</code> must be updated accordingly.</p> <p>High consensus Mana nodes will be queried more often than nodes with low consensus Mana, since the sampling using consensus Mana as weights. Every node is given the possibility to publish their opinions in a statement on the Tangle. These messages are called FPC statements. Nodes who decide to issue FPC statements may close the port reserved for FPC queries. A close port can therefore be an indication that a node decided to disseminate its opinions through statements. Every node shall keep a list of nodes that are not answering direct queries but publish their opinions on the Tangle. If a node issues two or more conflicting FPC statements in a round, every other node shall not take these messages into account, i.e., they do not count for the Mana of received opinions neither are used for the calculation of the proportion.</p> <h4 id=fpc-protocol-operation-for-multiple-object-ids>FPC Protocol Operation for Multiple Object IDs<a class=headerlink href=#fpc-protocol-operation-for-multiple-object-ids title="Permanent link">&para;</a></h4> <p>It is possible that there are more than one object to vote on. In this case, a node shall sample once per round and obtain the opinions for all objects from this one sample. Malicious or faulty nodes may not respond in a consistent way. In particular, in the case of a double-spending, a malicious node may respond <code>LIKE</code> for two or more conflicting objects. These malicious messages shall be filtered after having received the responses of the queries. Therefore, upon receival of the opinions, a node shall check for every sampled node if its answers are consistent, i.e., all liked objects must form a valid ledger state. Nodes that replied inconsistently shall be filtered out and their answer shall be considered as not received, i.e., they do not count for the Mana of received opinions neither are used for the calculation of the proportion. </p> <p>Note that since consensus Mana changes over time, FPC may use different consensus Mana values for different <code>objectID</code>s that are voted on at the same time. For an <code>objectID</code>, FPC must use the active consensus Mana of epoch <code>Epoch X-2</code>, where <code>Epoch X</code> contains the timestamp of the <code>objectID</code>. We refer to <a href=../5.3%20Mana/ >Section 5.3 - Mana</a> for the specification of active consensus Mana. We use a generic function <code>GetActiveConsensusMana(time)</code> that retrieves the active consensus Mana with respect to a given timestamp <code>time</code>.</p> <h3 id=6324-fpc-pseudocode-description>6.3.2.4 FPC Pseudocode Description<a class=headerlink href=#6324-fpc-pseudocode-description title="Permanent link">&para;</a></h3> <p>The following presents some pseudo-code for a better understanding of the details of the FPC protocol. </p> <p>The function <code>GetRN(a, b, time)</code> retrieves a uniform random number between a and b from the dRNG module of a given time <code>time</code>. If the dRNG is not retrieved in time a node must use (<code>SUBSEQUENT_LOWER_THRESHOLD</code> <code>SUBSEQUENT_UPPER_THRESHOLD</code>)/2 instead.</p> <p>In each round a node must query a random sample of other nodes. The random sample is obtained using weighted (by active consensus Mana) sampling with replacement until <code>QUERY_SIZE</code> distinct elements are chosen, or until a maximum sample size of <code>MAX_SAMPLE_SIZE</code> is reached.</p> <h4 id=getsample><code>GetSample</code><a class=headerlink href=#getsample title="Permanent link">&para;</a></h4> <p>This function chooses a sample of nodeIDs for FPC queries. <div class=highlight><pre><span></span><code><span class=k>FUNCTION</span> <span class=nf>queryList</span> <span class=o>=</span> <span class=n>GetSample</span><span class=p>(</span><span class=n>nodeList</span><span class=p>,</span> <span class=n>manaList</span><span class=p>)</span>
<span class=n>queryList</span> <span class=o>=</span> <span class=o>[]</span>
<span class=k>WHILE</span> <span class=p>(</span><span class=n>queryList</span> <span class=n>does</span> <span class=k>not</span> <span class=n>contain</span> <span class=n>QUERY_SIZE</span> <span class=n>different</span> <span class=n>elements</span><span class=p>)</span>
    <span class=n>newSample</span> <span class=o>=</span> <span class=n>SAMPLE</span><span class=p>(</span><span class=n>nodeList</span><span class=p>,</span> <span class=n>weight</span><span class=o>=</span><span class=n>manaList</span><span class=p>)</span>
    <span class=n>queryList</span> <span class=o>=</span> <span class=n>APPEND</span><span class=p>(</span><span class=n>queryList</span><span class=p>,</span> <span class=n>newSample</span><span class=p>)</span>
<span class=k>RETURN</span> <span class=n>queryList</span>
</code></pre></div> The function <code>SAMPLE(nodeList, weight=manaList)</code> chooses a random element from <code>nodeList</code> with weights corresponding to their Mana, i.e., the probability that a <code>nodeID</code> is chosen is proportional to <code>manaList[nodeID]</code>. </p> <p>Once the list <code>queryList</code> of nodes to query is chosen a node must obtain their opinions about the objects under voting. As there are two possibilities for nodes to communicate their opinions, via direct answers or via FPC statements, a node shall keep information on this behavior up to date. The message layout of the FPC statements is specified in <a href=../2.3%20Standard%20Payloads%20Layout/#2.3.5.3-fpc-statement>Section 2.3 - Standard Payloads Layout</a>.</p> <p>At the beginning of each round every node must prepare a query and send it to those nodes in <code>queryList</code> that replies directly (i.e., do not publish FPC statements). </p> <p>The queries must follow the layout that follows. </p> <h4 id=queryrequest>QueryRequest<a class=headerlink href=#queryrequest title="Permanent link">&para;</a></h4> <table> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> <tr> <td>Version</td> <td>uint8</td> <td>The message version. The schema specified in this RFC is for version <strong>1</strong> only. </td> </tr> <tr> <td>Tx count</td> <td>uint8</td> <td>The number of TransactionIDs.</td> </tr> <tr> <td colspan=1> TransactionIDs <code>Tx count</code> </td> <td colspan=2> <details open=true> <summary>TransactionID, ordered by hash ASC</summary> <table> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> <tr> <td>TransactionID</td> <td>ByteArray[32]</td> <td>The ID of the transaction</i>.</td> </tr> </table> </details> </td> </tr> <tr> <td>Msg count</td> <td>uint8</td> <td>The number of MessageIDs.</td> </tr> <tr> <td colspan=1> MessageIDs <code>Msg count</code> </td> <td colspan=2> <details open=true> <summary>MessageID, ordered by hash ASC</summary> <table> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> <tr> <td>MessageID</td> <td>ByteArray[32]</td> <td>The ID of the message</i>.</td> </tr> </table> </details> </td> </tr> </table> <p>The respond to a QueryRequest must take follow the following form </p> <h4 id=queryresponse>QueryResponse<a class=headerlink href=#queryresponse title="Permanent link">&para;</a></h4> <table> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> <tr> <td>Version</td> <td>uint8</td> <td>The message version. The schema specified in this RFC is for version <strong>1</strong> only. </td> </tr> <tr> <td>Obj count</td> <td>uint8</td> <td>The number of objectIDs. Must equal to <code> Tx count + Msg count</code> of the received QueryRequest</td> </tr> <tr> <td colspan=1> Opinions <code>Obj count</code> </td> <td colspan=2> <details open=true> <summary>ObjectIDs, in the same order as in received QueryRequest</summary> <table> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> <tr> <td>Opinion</td> <td>Byte </td> <td>The opinion on objectID</i>.</td> </tr> </table> </details> </td> </tr> </table> <p>In the case that a certain <code>objectID</code> is unknwon to the node, it must respond with <code>NULL</code>. If the <code>objectID</code> is currently treated by FPC a node must respond with the current opinion, otherwise, retrieve the <code>opinion</code> from the <code>opinionField</code> of the <code>objectID</code>. If the <code>opinionField</code> is <code>NULL</code> the node must respond with <code>NULL</code>. </p> <p>Note that since the order of the opinions in <code>QueryResponse</code> is important a node may have to produce different messages QueryResponse for different querying nodes. QueryRequest and QueryResponse must be signed by the sending node. The communication channel for these messages is specified in the field "services" in the DiscoveryRequest, see <a href=./3.1%20Communication%20Models.md>Section 3.1 - Communication Models</a>. We write <code>respond[node, objectIDs]</code> for the respond, per direct QueryResponse or FPC statement, of the <code>node</code> on the <code>objectID</code>s. A node shall only respond to queries if all included <code>objectsID</code> have status <code>answerQuery=TRUE</code>.</p> <h4 id=getopinion><code>GetOpinion</code><a class=headerlink href=#getopinion title="Permanent link">&para;</a></h4> <p>This function sends queries to all nodes of <code>queryList</code> and obtains their opinion either through QueryResponse messages of from FPC statements on the Tangle. <div class=highlight><pre><span></span><code><span class=k>FUNCTION</span> <span class=nf>opinionQuery</span> <span class=o>=</span> <span class=n>GetOpinion</span><span class=p>(</span><span class=n>objectIDs</span><span class=p>,</span> <span class=n>queryList</span><span class=p>)</span>
<span class=n>SEND</span> <span class=n>QueryRequest</span> <span class=n>messages</span>
<span class=n>WAIT</span> <span class=n>UNTIL</span> <span class=n>TIME_OUT</span>  
<span class=k>FOR</span> <span class=p>(</span><span class=n>node</span> <span class=ow>IN</span> <span class=n>queryList</span><span class=p>)</span>
    <span class=k>IF</span> <span class=p>(</span><span class=n>node</span> <span class=n>replied</span><span class=p>)</span> 
        <span class=n>opinionQuery</span><span class=o>[</span><span class=n>node</span><span class=p>,</span> <span class=n>objectIDs</span><span class=o>]</span> <span class=o>=</span> <span class=n>respond</span><span class=o>[</span><span class=n>node</span><span class=p>,</span> <span class=n>objectIDs</span><span class=o>]</span>
    <span class=k>ELSE</span> <span class=k>IF</span> <span class=p>(</span><span class=n>node</span> <span class=n>publishes</span> <span class=k>on</span> <span class=n>Tangle</span><span class=p>)</span>
        <span class=n>opinionQuery</span><span class=o>[</span><span class=n>node</span><span class=p>,</span> <span class=n>objectIDs</span><span class=o>]</span> <span class=o>=</span> <span class=n>GetOpinionFromTangle</span><span class=o>[</span><span class=n>node</span><span class=p>,</span> <span class=n>objectID</span><span class=o>]</span>
    <span class=k>ELSE</span> <span class=n>opinionQuery</span><span class=o>[</span><span class=n>node</span><span class=p>,</span> <span class=n>objectIDs</span><span class=o>]</span> <span class=o>=</span> <span class=n>NA</span>
<span class=k>RETURN</span> <span class=p>(</span><span class=n>opinionQuery</span><span class=p>)</span>
</code></pre></div> A node must receive a sufficient amount of replies to validate a given round; otherwise the ongoing FPC round is skipped. More precisely, the consensus Mana of the received opinions must be larger than <code>MIN_MANA_PROPORTION</code> times the sum of the consensus Mana of the sampled nodes. </p> <p>Once a node receives a FPC query it must prepare a response message as specified above, and shall sent the response as soon as possible. If a node decides to publish its opinions on the Tangle, it must create a so-called FPC statement message and issue it on the Tangle at the beginning of each round. </p> <p>At the end of each round, i.e., after the <code>TIME_OUT</code> expires, a node must update its opinion if <code>CheckQuerySuccessful</code> is TRUE. The node must calculate the proportion of the <code>LIKE</code>s in the obtained opinions and compare it to a certain threshold. The value of the threshold depends on the phase FPC is in. In the first round, a node must use <code>FIRST_ROUND_THRESHOLD</code> as a threshold, while in the subsequent rounds the node must use a random threshold obtained by <code>GetRN()</code>. Moreover, if <code>cnt</code> &gt; <code>TOTAL_ROUNDS_FINALIZATION</code>-<code>TOTAL_ROUNDS_ENDING_THRESHOLD</code> the node must use <code>ENDING_THRESHOLD</code> for the threshold. The following pseudo-code describes the update of the opinion of one given <code>objectID</code>. It uses <code>queryList</code> and <code>opinionQuery</code> obtained by the functions <code>GetSample</code> and <code>GetOpinion</code>. The variable <code>opinion</code> describes the current opinion on <code>objectID</code>.</p> <h4 id=opinionupdate><code>OpinionUpdate</code><a class=headerlink href=#opinionupdate title="Permanent link">&para;</a></h4> <p>This function updates the opinion of a node on <code>objectID</code>. <div class=highlight><pre><span></span><code><span class=k>FUNCTION</span> <span class=nf>opinion</span> <span class=o>=</span> <span class=n>OpinionUpdate</span><span class=p>(</span><span class=n>objectID</span><span class=p>,</span> <span class=n>opinion</span><span class=p>,</span> <span class=n>queryList</span><span class=p>,</span> <span class=n>opinionQuery</span><span class=p>,</span> <span class=n>round</span><span class=p>)</span>
<span class=n>manaList</span> <span class=o>=</span> <span class=n>GetActiveConsensusMana</span><span class=p>(</span><span class=n>timeObjectID</span><span class=p>)</span>
<span class=n>answerMana</span> <span class=o>=</span> <span class=n>ownMana</span>
<span class=n>queriedMana</span>
<span class=n>etaStar</span> <span class=o>=</span> <span class=mi>0</span>
<span class=k>FOR</span> <span class=n>node</span> <span class=ow>in</span> <span class=n>queryList</span>
    <span class=n>queriedMana</span> <span class=o>+=</span> <span class=n>manaList</span><span class=o>[</span><span class=n>node</span><span class=o>]</span>
    <span class=k>IF</span> <span class=n>opinionQuery</span><span class=o>[</span><span class=n>node</span><span class=p>,</span> <span class=n>objectID</span><span class=o>]</span> <span class=p>!</span><span class=o>=</span> <span class=n>NA</span>
        <span class=n>answerMana</span> <span class=o>+=</span> <span class=n>manaList</span><span class=o>[</span><span class=n>node</span><span class=o>]</span>
    <span class=k>IF</span>  <span class=n>opinionQuery</span><span class=o>[</span><span class=n>node</span><span class=p>,</span> <span class=n>objectID</span><span class=o>]</span> <span class=o>=</span> <span class=ow>LIKE</span>
            <span class=n>etaStar</span><span class=o>++</span>
<span class=k>IF</span> <span class=n>answerMana</span> <span class=o>&lt;=</span> <span class=n>MIN_MANA_PROPORTION</span> <span class=o>*</span> <span class=n>queriedMana</span>
    <span class=n>opinionNew</span> <span class=o>=</span> <span class=n>opinion</span> <span class=p>#</span> 
<span class=k>ELSE</span> 
    <span class=n>eta</span> <span class=o>=</span> <span class=n>etaStar</span> <span class=o>/</span> <span class=n>LENGTH</span><span class=p>(</span><span class=n>queryList</span><span class=p>)</span>
    <span class=k>IF</span> <span class=n>opinion</span> <span class=o>=</span> <span class=ow>LIKE</span>
        <span class=n>eta</span> <span class=o>=</span> <span class=p>(</span><span class=n>ownMana</span> <span class=o>+</span> <span class=n>etaStar</span><span class=o>*</span><span class=p>(</span><span class=n>answerMana</span><span class=o>-</span><span class=n>ownMana</span><span class=p>))</span><span class=o>/</span><span class=n>answerMana</span>    
    <span class=k>ELSE</span> <span class=k>IF</span> <span class=n>opinion</span> <span class=o>=</span> <span class=n>DISLIKE</span>
         <span class=n>eta</span> <span class=o>=</span> <span class=p>(</span><span class=n>etaStar</span><span class=o>*</span><span class=p>(</span><span class=n>answerMana</span><span class=o>-</span><span class=n>ownMana</span><span class=p>))</span><span class=o>/</span><span class=n>answerMana</span> 
    <span class=n>WAIT</span> <span class=n>UNTIL</span> <span class=n>CurrentTime</span><span class=o>/</span><span class=n>ROUND_LENGTH</span> <span class=ow>IS</span> <span class=kt>INTEGER</span>
    <span class=k>IF</span> <span class=n>round</span> <span class=o>=</span> <span class=mi>1</span>  
        <span class=n>threshold</span> <span class=o>=</span> <span class=n>FIRST_ROUND_THRESHOLD</span>
    <span class=k>ELSE</span> <span class=k>IF</span> <span class=n>round</span> <span class=o>&lt;=</span> <span class=n>TOTAL_ROUNDS_FINALIZATION</span><span class=o>-</span><span class=n>TOTAL_ROUNDS_ENDING_THRESHOLD</span> 
        <span class=n>WAIT</span> <span class=n>DRNG_WAITING_TIME</span>
        <span class=n>threshold</span> <span class=o>=</span> <span class=n>getRN</span><span class=p>(</span><span class=n>SUBSEQUENT_LOWER_THRESHOLD</span><span class=p>,</span> <span class=n>SUBSEQUENT_UPPER_THRESHOLD</span><span class=p>,</span> <span class=n>CurrentTime</span><span class=p>)</span>  
        <span class=k>IF</span> <span class=n>threshold</span> <span class=o>=</span> <span class=n>NIL</span>
            <span class=n>threshold</span> <span class=o>=</span> <span class=p>(</span><span class=n>SUBSEQUENT_LOWER_THRESHOLD</span> <span class=o>+</span> <span class=n>SUBSEQUENT_UPPER_THRESHOLD</span><span class=p>)</span><span class=o>/</span><span class=mi>2</span>
    <span class=k>ELSE</span> 
        <span class=n>threshold</span> <span class=o>=</span> <span class=n>ENDING_THRESHOLD</span>
    <span class=k>IF</span> <span class=n>eta</span> <span class=o>&lt;</span> <span class=n>threshold</span>
        <span class=n>opinionNew</span> <span class=o>=</span> <span class=n>DISLIKE</span>
    <span class=k>ELSE</span>
        <span class=n>opinionNew</span> <span class=o>=</span> <span class=ow>LIKE</span>
<span class=k>RETURN</span> <span class=n>opinioNew</span>
</code></pre></div></p> <h4 id=mainfpc><code>MainFPC</code><a class=headerlink href=#mainfpc title="Permanent link">&para;</a></h4> <p>This function describes the FPC for one <code>objectID</code>. It is triggered once <code>queryStatus</code> of an object is set to <code>TRUE</code>. <div class=highlight><pre><span></span><code><span class=k>FUNCTION</span> <span class=nf>opinion</span> <span class=o>=</span> <span class=n>MainFPC</span><span class=p>(</span><span class=n>objectId</span><span class=p>,</span> <span class=n>queryStatus</span><span class=p>)</span>
<span class=k>IF</span> <span class=n>queryStatus</span> <span class=o>=</span> <span class=k>TRUE</span>  
    <span class=n>opinion</span> <span class=o>=</span> <span class=n>GetInitialOpinion</span><span class=p>(</span><span class=n>objectID</span><span class=p>)</span>
    <span class=n>cnt</span> <span class=o>=</span> <span class=mi>0</span>
<span class=p>}</span>
<span class=n>WAIT</span> <span class=n>UNTIL</span> <span class=n>CurrentTime</span><span class=o>/</span><span class=n>ROUND_LENGTH</span> <span class=ow>IS</span> <span class=kt>INTEGER</span>
<span class=n>round</span> <span class=o>=</span> <span class=mi>1</span> 
<span class=k>WHILE</span> <span class=n>queryStatus</span> <span class=o>=</span> <span class=k>TRUE</span>
    <span class=n>queryList</span> <span class=o>=</span> <span class=n>GetSample</span><span class=p>(</span><span class=n>nodeList</span><span class=p>,</span> <span class=n>manaList</span><span class=p>)</span>
    <span class=n>opinionQuery</span> <span class=o>=</span> <span class=n>GetOpinion</span><span class=p>(</span><span class=n>objectID</span><span class=p>,</span> <span class=n>queryList</span><span class=p>)</span> 
    <span class=n>opinionNew</span> <span class=o>=</span> <span class=n>OpinionUpdate</span><span class=p>(</span><span class=n>objectID</span><span class=p>,</span> <span class=n>opinion</span><span class=p>,</span> <span class=n>queryList</span><span class=p>,</span> <span class=n>opinionQuery</span><span class=p>,</span> <span class=n>round</span><span class=p>)</span>
    <span class=k>IF</span> <span class=n>opinion</span> <span class=o>=</span> <span class=n>opinionNew</span> 
        <span class=n>cnt</span><span class=o>++</span>
    <span class=k>ELSE</span> 
        <span class=n>cnt</span><span class=o>=</span><span class=mi>1</span>
    <span class=n>opinion</span> <span class=o>=</span> <span class=n>opinionNew</span>
    <span class=n>round</span><span class=o>++</span>
    <span class=k>IF</span> <span class=n>cnt</span> <span class=o>=</span> <span class=n>TOTAL_ROUNDS_FINALIZATION</span> 
        <span class=n>queryStatus</span> <span class=o>=</span> <span class=k>FALSE</span>
    <span class=k>IF</span> <span class=n>round</span> <span class=o>&gt;=</span> <span class=n>MAX_ROUND</span> 
        <span class=n>queryStatus</span> <span class=o>=</span> <span class=k>FALSE</span>
        <span class=n>opinion</span> <span class=o>=</span> <span class=mi>1</span>
<span class=k>RETURN</span> <span class=n>opinion</span>
</code></pre></div></p> <h1 id=633-optimizations-suggestions>6.3.3 Optimizations Suggestions<a class=headerlink href=#633-optimizations-suggestions title="Permanent link">&para;</a></h1> <p>The design given above exemplifies all the mandatory elements of the FPC protocol.</p> <p>There are several possible ways to optimize the performance of FPC. For example:</p> <ul> <li>FPC possibly exposes the public IP adresses of all the IOTA nodes. This can be limited by publishing statements on Tangle. However, if all nodes decide to publish their statements this may have a negative effect on the scalability of the protocol. Please refer to <a href=https://link.springer.com/chapter/10.1007/978-3-030-63089-8_24>Fast Probabilistic Consensus with Weighted Votes</a> for more discussions on how to optimize the message overhead.</li> <li>Monotonicity and consistency rules may be applied to reduce the sizes of the messages.</li> <li>The choice of the FPC parameters could be optimized. The optimal choice depends on the actual mana distribution and network latency. </li> </ul> <hr> <div class=md-source-date> <small> Last update: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_datetime">2021-06-27 13:40:55</span> <br>Created: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_datetime">2021-06-27 13:25:10</span> </small> </div> </article> <script>var tabs=__get("__tabs");if(Array.isArray(tabs))for(var set of document.querySelectorAll("[data-tabs]")){var labels=set.querySelectorAll(":scope > label");e:for(var tab of tabs)for(var label of labels)if(label.innerText.trim()===tab){var input=label.previousElementSibling;input.checked=!0;break e}}</script> </div> </div> <a href=# class="md-top md-icon" title="Back to top" data-md-component=top data-md-state=hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg> </a> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../6.2%20Opinion%20Setting/ class="md-footer__link md-footer__link--prev" aria-label="Previous: 6.2 Opinion Setting" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> 6.2 Opinion Setting </div> </div> </a> <a href=../6.4%20Finalization/ class="md-footer__link md-footer__link--next" aria-label="Next: 6.4 Finalization" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> 6.4 Finalization </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Copyright &copy; 2021 Zignar Technologies </div> </div> <div class=md-footer-social> <a href=https://twitter.com/zignartech target=_blank rel=noopener title=twitter.com class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> <a href=https://www.linkedin.com/company/zignar-technologies/ target=_blank rel=noopener title=www.linkedin.com class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg> </a> <a href=https://github.com/zignar-technologies target=_blank rel=noopener title=github.com class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://discord.gg/pEBc77shev target=_blank rel=noopener title=discord.gg class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M297.216 243.2c0 15.616-11.52 28.416-26.112 28.416-14.336 0-26.112-12.8-26.112-28.416s11.52-28.416 26.112-28.416c14.592 0 26.112 12.8 26.112 28.416zm-119.552-28.416c-14.592 0-26.112 12.8-26.112 28.416s11.776 28.416 26.112 28.416c14.592 0 26.112-12.8 26.112-28.416.256-15.616-11.52-28.416-26.112-28.416zM448 52.736V512c-64.494-56.994-43.868-38.128-118.784-107.776l13.568 47.36H52.48C23.552 451.584 0 428.032 0 398.848V52.736C0 23.552 23.552 0 52.48 0h343.04C424.448 0 448 23.552 448 52.736zm-72.96 242.688c0-82.432-36.864-149.248-36.864-149.248-36.864-27.648-71.936-26.88-71.936-26.88l-3.584 4.096c43.52 13.312 63.744 32.512 63.744 32.512-60.811-33.329-132.244-33.335-191.232-7.424-9.472 4.352-15.104 7.424-15.104 7.424s21.248-20.224 67.328-33.536l-2.56-3.072s-35.072-.768-71.936 26.88c0 0-36.864 66.816-36.864 149.248 0 0 21.504 37.12 78.08 38.912 0 0 9.472-11.52 17.152-21.248-32.512-9.728-44.8-30.208-44.8-30.208 3.766 2.636 9.976 6.053 10.496 6.4 43.21 24.198 104.588 32.126 159.744 8.96 8.96-3.328 18.944-8.192 29.44-15.104 0 0-12.8 20.992-46.336 30.464 7.68 9.728 16.896 20.736 16.896 20.736 56.576-1.792 78.336-38.912 78.336-38.912z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.tabs", "navigation.instant", "navigation.indexes", "navigation.tracking", "navigation.top", "header.autohide", "content.tabs.link", "search.suggest", "search.highlight", "search.share"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../assets/javascripts/workers/search.df8cae7d.min.js", "version": null}</script> <script src=../../assets/javascripts/bundle.82217815.min.js></script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script src=https://cdnjs.cloudflare.com/ajax/libs/tablesort/5.2.1/tablesort.min.js></script> <script src=../../javascripts/tables.js></script> <script src=../../javascripts/stl_viewer/stl_viewer.min.js></script> <script src=../../javascripts/extra.js></script> <script src=../../overrides/assets/javascripts/bundle.428d89bf.min.js></script> </body> </html>